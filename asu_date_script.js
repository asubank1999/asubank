const events = [
  { date: "2025-01-26", day: "الاحد", name: "فترة الامتحانات النهائية للفصل الأول 2025/2024" },
  { date: "2025-01-28", day: "الثلاثاء", name: "عيد الإسراء والمعراج الشريف (بدون تعطيل)" },
  { date: "2025-01-30", day: "الخميس", name: "عيد ميلاد جلالة الملك عبدالله الثاني المعظم (بدون تعطيل)" },
  { date: "2025-02-06", day: "الخميس", name: "آخر موعد لمناقشة رسائل الماجستير" },
  { date: "2025-02-09", day: "الاحد", name: "بدء إجازة الطلبة" },
  { date: "2025-02-09", day: "الاحد", name: "آخر موعد لتقديم نتائج الفصل الأول 2025/2024" },
  { date: "2025-02-16", day: "الاحد", name: "آخر موعد لتقديم تنسيبات منح الدرجات للطلاب الخريجين" },
  { date: "2025-02-16", day: "الاحد", name: "آخر موعد لتسليم رسائل الماجستير لعمادة الدراسات العليا" },
  { date: "2025-02-19", day: "الأربعاء", name: "قرار مجلس العمداء بمنح الدرجات للطلاب الخريجين" },
  { date: "2025-02-23", day: "الاحد", name: "الفترة الثانية للإرشاد والتسجيل والانسحاب والإضافة لمواد الفصل الثاني" },
  { date: "2025-03-02", day: "الاحد", name: "بدء الدراسة في الفصل الثاني 2025/2024" },
  { date: "2025-03-02", day: "الاحد", name: "غرامة التسجيل المتأخر الفترة الأولى (50 دينار)" },
  { date: "2025-03-06", day: "الخميس", name: "انتهاء فترة الانسحاب والإضافة للفصل الثاني" },
  { date: "2025-03-09", day: "الاحد", name: "غرامة التسجيل المتأخر الفترة الثانية (100 دينار)" },
  { date: "2025-03-30", day: "الاحد", name: "عيد الفطر المبارك (تقديراً)" },
  { date: "2025-04-20", day: "الاحد", name: "بدء التسجيل على مواد الفصل الصيفي 2025/2024" },
  { date: "2025-04-27", day: "الاحد", name: "فترة الامتحانات الفصلية لمواد الفصل الثاني" },
  { date: "2025-04-28", day: "الاثنين", name: "الامتحان الشامل (الجلسة الأولى)" },
  { date: "2025-04-30", day: "الأربعاء", name: "الامتحان الشامل (الجلسة الثانية)" },
  { date: "2025-05-01", day: "الخميس", name: "عيد العمال" },
  { date: "2025-05-25", day: "الاحد", name: "عيد الاستقلال" },
  { date: "2025-06-05", day: "الخميس", name: "عطلة عيد الأضحى المبارك (تقديراً)" },
  { date: "2025-06-09", day: "الاثنين", name: "عيد جلوس جلالة الملك عبدالله الثاني (بدون تعطيل)" },
  { date: "2025-06-10", day: "الثلاثاء", name: "عيد الجيش والثورة العربية الكبرى (بدون تعطيل)" },
  { date: "2025-06-22", day: "الاحد", name: "فترة الامتحانات النهائية للفصل الثاني" },
  { date: "2025-06-27", day: "الجمعة", name: "رأس السنة الهجرية (تقديراً)" },
  { date: "2025-07-03", day: "الخميس", name: "آخر موعد لمناقشة رسائل الماجستير" },
  { date: "2025-07-06", day: "الاحد", name: "بدء إجازة الطلبة" },
  { date: "2025-07-06", day: "الاحد", name: "آخر موعد لتقديم نتائج الفصل الثاني" },
  { date: "2025-07-10", day: "الخميس", name: "آخر موعد لتقديم تنسيبات منح الدرجات للطلاب الخريجين" },
  { date: "2025-07-14", day: "الاثنين", name: "قرار مجلس العمداء بمنح الدرجات للطلاب الخريجين" },
  { date: "2025-07-16", day: "الأربعاء", name: "حفلات التخرج" },
  { date: "2025-07-20", day: "الاحد", name: "بدء الدراسة في الفصل الصيفي 2025/2024" },
  { date: "2025-07-22", day: "الثلاثاء", name: "انتهاء فترة الانسحاب والإضافة للفصل الصيفي" },
  { date: "2025-08-03", day: "الاحد", name: "بدء التسجيل على مواد الفصل الأول 2026/2025" },
  { date: "2025-08-17", day: "الاحد", name: "فترة الامتحانات الفصلية للفصل الصيفي" },
  { date: "2025-08-28", day: "الخميس", name: "انتهاء فترة الانسحاب من مواد الفصل الصيفي" },
  { date: "2025-09-08", day: "الاثنين", name: "فترة الامتحانات النهائية للفصل الصيفي" },
  { date: "2025-09-11", day: "الخميس", name: "آخر موعد لمناقشة رسائل الماجستير" },
  { date: "2025-09-14", day: "الاحد", name: "آخر موعد لتقديم نتائج الفصل الصيفي" },
  { date: "2025-10-05", day: "الاحد", name: "بدء العام الجامعي ودوام أعضاء هيئة التدريس" },
];

const eventsBody = document.getElementById("events-body");

function updateCountdown(row, event) {
  const now = new Date();
  const eventDate = new Date(event.date);
  const timeDifference = eventDate - now;

  if (timeDifference <= 0) {
    row.querySelector(".countdown").textContent = "الوقت قد حان!";
    return;
  }

  const days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
  const hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((timeDifference % (1000 * 60)) / 1000);

  row.querySelector(".countdown").textContent = `${days} يوم ${hours} ساعة ${minutes} دقيقة ${seconds} ثانية`;
}

function initialize() {
  events.forEach(event => {
    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${event.date}</td>
      <td>${event.day}</td>
      <td>${event.name}</td>
      <td class="countdown">--:--:--</td>
    `;
    eventsBody.appendChild(row);

    setInterval(() => updateCountdown(row, event), 1000);
  });
}

initialize();
